{% extends 'base.html' %}

{% block content %}
<div class="container h-100">
    <div class="d-flex flex-column flex-shrink-0 pt-5" style="height: 100%;">
        <span class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-decoration-none fs-1">
          Диалоги
        </span>
        <hr>
        <div class="list-group col-4">
            {% if content %}
                {% for el in content %}
                    <a href="{% url 'dialogue' el.friend_id %}" class="list-group-item list-group-item-action d-flex gap-3 py-3" aria-current="true">
                        <div class="d-flex gap-2 justify-content-between">
                            <div>
                                {% if el.dialogue.user1 == request.user %}
                                    <h4 class="mb-1">{{ el.dialogue.user2.first_name }} {{ el.dialogue.user2.last_name }}</h4>
                                {% else %}
                                      <h4 class="mb-1">{{ el.dialogue.user1.first_name }} {{ el.dialogue.user1.last_name }}</h4>
                                {% endif %}
                                      <p class="text-secondary">{{ el.last_message_author }}: {{ el.last_message|truncatechars:40 }}</p>
                            </div>
                        <!--          <small class="opacity-50 text-nowrap">now</small>-->
                        </div>
                    </a>
                {% endfor %}
            {% endif %}
    <!-- <div class="dropdown"> -->
      <!-- <a href="#" class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" id="dropdownUser1" data-bs-toggle="dropdown" aria-expanded="false"> -->
        <!-- <img src="https://github.com/mdo.png" alt="" class="rounded-circle me-2" width="32" height="32"> -->
        <!-- <strong>mdo</strong> -->
      <!-- </a> -->
      <!-- <ul class="dropdown-menu dropdown-menu-dark text-small shadow" aria-labelledby="dropdownUser1"> -->
        <!-- <li><a class="dropdown-item" href="#">New project...</a></li> -->
        <!-- <li><a class="dropdown-item" href="#">Settings</a></li> -->
        <!-- <li><a class="dropdown-item" href="#">Profile</a></li> -->
        <!-- <li><hr class="dropdown-divider"></li> -->
        <!-- <li><a class="dropdown-item" href="#">Sign out</a></li> -->
       </div>
    </div>
</div>

{% endblock %}

